---
import Layout from "../layouts/Layout.astro";
import BeforeAfter from "../components/BeforeAfter.astro";
---

<Layout
  title="Fensterreinigung in Hamburg & Norderstedt"
  description="Streifenfreie Fensterreinigung für privat & Gewerbe – schnell, sauber, fair."
>
  <!-- HERO -->
  <section class="py-8 md:py-16">
    <div class="mx-auto max-w-3xl">
      <h1 class="text-balance text-center text-2xl md:text-5xl font-extrabold tracking-tight">
        Fensterreinigung in
        <span class="text-blue-600">Hamburg & Norderstedt</span>
      </h1>
      <p class="text-balance text-center mt-5 text-lg text-slate-600 dark:text-slate-400">
        Professionell, zuverlässig und transparent — jetzt unverbindlich anfragen.
      </p>
      <!-- <div class="mt-8 flex flex-col sm:flex-row gap-3">
        <a href="tel:+4917629633132"
           class="inline-flex items-center justify-center rounded-lg bg-blue-600 px-5 py-3 font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-900">
          Jetzt anrufen
        </a>
        <a
          href="https://wa.me/4917629633132?text=Hallo%2C%20ich%20interessiere%20mich%20f%C3%BCr%20Ihre%20Fensterreinigung%20in%20Hamburg%20und%20Norderstedt."
          target="_blank" rel="noopener noreferrer"
          class="inline-flex items-center justify-center rounded-lg border px-5 py-3 font-medium text-green-700 border-green-600 hover:bg-green-50 dark:text-green-300 dark:border-green-400 dark:hover:bg-green-900/30 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-900"
          aria-label="Per WhatsApp anfragen"
        >
          Per WhatsApp anfragen
        </a>
        <a href="#kontakt"
           class="inline-flex items-center justify-center rounded-lg border px-5 py-3 font-medium text-slate-900 hover:bg-slate-100 dark:text-slate-100 dark:border-slate-700 dark:hover:bg-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-white dark:focus:ring-offset-slate-900">
          Angebot anfragen
        </a>
      </div> -->

      <div class="mt-8 flex justify-center">
        <a
          href="#kontakt"
          class="inline-flex items-center justify-center rounded-lg bg-blue-600 px-5 py-3 font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2"
        >
          Jetzt Angebot anfordern
        </a>
      </div>
      
      <ul class="mt-6 md:flex md:justify-center grid place-content-center gap-x-6 gap-y-2 text-sm text-slate-500 dark:text-slate-400">
        <li>✔ Privat & Gewerbe</li>
        <li>✔ Kurzfristige Termine</li>
        <!-- <li>✔ Festpreise ab 49€</li> -->
      </ul>
    </div>
  </section>

      <!-- LEISTUNGEN -->
  <section id="leistungen" class="scroll-mt-24 py-8 md:py-12 border-t border-slate-200 bg-slate-50/60">
    <div class="mx-auto max-w-6xl">
      <h2 class="text-2xl md:text-3xl font-bold">Leistungen</h2>
      <p class="text-balance mt-3 text-slate-600">
        Saubere Scheiben, klare Sicht – für privat & Gewerbe.
      </p>

      <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Innen- & Außenreinigung -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Fenster innen & außen</h3>
          <p class="mt-2 text-sm text-slate-600">
            Rahmen, Falze, Glas – streifenfrei inkl. Abziehen & Nachwischen.
          </p>
        </article>

        <!-- Wintergärten / Terrassendächer -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Wintergärten & Terrassendächer</h3>
          <p class="mt-2 text-sm text-slate-600">
            Glasdächer & schwer erreichbare Flächen mit passendem Equipment.
          </p>
        </article>

        <!-- Spiegel / Glastüren -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Spiegel & Glastüren</h3>
          <p class="mt-2 text-sm text-slate-600">
            Für Bad, Flur & Büro – ohne Schlieren, ohne Tropfen.
          </p>
        </article>

        <!-- Schaufenster / Büro -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Schaufenster & Büro</h3>
          <p class="mt-2 text-sm text-slate-600">
            Pflegeintervalle nach Wunsch – sichtbar gepflegter Auftritt.
          </p>
        </article>

        <!-- Rahmen-/Lamellenreinigung -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Rahmen & Lamellen</h3>
          <p class="mt-2 text-sm text-slate-600">
            Detailarbeit an Rahmen, Simsen & Jalousien optional zubuchbar.
          </p>
        </article>

        <!-- Anfahrt / Kleinaufträge -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Faire Anfahrt & Kleinaufträge</h3>
          <p class="mt-2 text-sm text-slate-600">
            Hamburg & Norderstedt, kurze Wege – auch kleine Jobs möglich.
          </p>
        </article>
      </div>
    </div>
  </section>

    <!-- PREISE -->
  <section id="preise" class="scroll-mt-24 py-8 md:py-12 border-t border-slate-200 bg-slate-50/60">
    <div class="mx-auto max-w-6xl">
      <h2 class="text-2xl md:text-3xl font-bold">Preise</h2>
      <p class="text-balance mt-3 text-slate-600">
        Faire „ab“-Preise – abhängig von Anzahl, Größe, Erreichbarkeit & Aufwand.
      </p>

      <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <!-- Fenster standard -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Fenster (innen & außen)</h3>
          <p class="mt-2 text-2xl font-bold text-slate-900">ab 8&nbsp;€ / Fenster</p>
          <p class="mt-2 text-sm text-slate-600">
            Standardfenster, gut zugänglich, inkl. Rahmen & Abziehen.
          </p>
        </article>

        <!-- Dachflächenfenster -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Dachflächenfenster</h3>
          <p class="mt-2 text-2xl font-bold text-slate-900">ab 15&nbsp;€ / Fenster</p>
          <p class="mt-2 text-sm text-slate-600">
            Je nach Höhe/Neigung und Sicherheit.
          </p>
        </article>

        <!-- Wintergarten -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Wintergarten</h3>
          <p class="mt-2 text-2xl font-bold text-slate-900">ab 160–300&nbsp;€</p>
          <p class="mt-2 text-sm text-slate-600">
            Komplettreinigung Glas & Rahmen. Größe & Zugang entscheiden.
          </p>
        </article>

        <!-- Terrassen-/Glasdach -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Terrassen-/Glasdach</h3>
          <p class="mt-2 text-2xl font-bold text-slate-900">ab 5–15&nbsp;€ / m²</p>
          <p class="mt-2 text-sm text-slate-600">
            Nach Fläche, Verschmutzung & Erreichbarkeit.
          </p>
        </article>

        <!-- Gewerbe/Schaufenster -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Schaufenster & Büro</h3>
          <p class="mt-2 text-2xl font-bold text-slate-900">auf Anfrage</p>
          <p class="mt-2 text-sm text-slate-600">
            Regelmäßige Intervalle möglich (wöchentlich/monatlich).
          </p>
        </article>

        <!-- Zusatzleistungen -->
        <article class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm transition hover:shadow-md">
          <h3 class="font-semibold text-slate-900">Zusatzleistungen</h3>
          <p class="mt-2 text-2xl font-bold text-slate-900">individuell</p>
          <p class="mt-2 text-sm text-slate-600">
            Rahmen-/Lamellenreinigung, starke Verschmutzung, schwerer Zugang.
          </p>
        </article>
      </div>

      <div class="text-balance mt-6 rounded-lg border border-slate-200 bg-white p-4 text-sm text-slate-600">
        <p><strong>Transparenz:</strong> Endpreise nach kurzer Besichtigung oder Fotos. Anfahrt in Hamburg & Norderstedt fair kalkuliert.</p>
      </div>

      <!-- CTAs -->
      <p class="mt-4 text-sm text-slate-600">
        Fragen zu Preisen?
        <a href="#kontakt" class="text-blue-600 underline">Kontakt aufnehmen</a>
      </p>
    </div>
  </section>

      <!-- GALERIE -->
  <section id="galerie" class="scroll-mt-24 py-8 md:py-12 border-t border-slate-200 bg-slate-50/60">
    <div class="mx-auto max-w-6xl">
      <h2 class="text-2xl md:text-3xl font-bold">Galerie</h2>
      <p class="text-balance mt-3 text-slate-600">
        Vorher&nbsp;/&nbsp;Nachher – echte Ergebnisse aus Hamburg & Norderstedt.
      </p>

      <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <BeforeAfter
          label="Terrassendach aus Glas"
          before="/gallery/terrasse-vorher.svg"
          after="/gallery/terrasse-nachher.svg"
          altBefore="Terrassendach vor der Reinigung – Verschmutzungen sichtbar"
          altAfter="Terrassendach nach der Reinigung – streifenfrei sauber"
          width={600} height={450}
        />

        <BeforeAfter
          label="Wintergarten"
          before="/gallery/wintergarten-vorher.svg"
          after="/gallery/wintergarten-nachher.svg"
          altBefore="Wintergarten vor der Reinigung"
          altAfter="Wintergarten nach der Reinigung"
          width={600} height={450}
        />

        <BeforeAfter
          label="Schaufenster"
          before="/gallery/schaufenster-vorher.svg"
          after="/gallery/schaufenster-nachher.svg"
          altBefore="Schaufenster vor der Reinigung"
          altAfter="Schaufenster nach der Reinigung"
          width={600} height={450}
        />
      </div>

      <p class="text-balance mt-6 text-sm text-slate-500">
        Tipp: Weitere Beispiele schicken wir gern per WhatsApp oder E-Mail.
      </p>
    </div>
  </section>

    <!-- BEWERTUNGEN -->
  <!-- <section id="bewertungen" class="scroll-mt-24 py-8 md:py-12 border-t border-slate-200 bg-slate-50/60"> -->
    <!-- <div class="mx-auto max-w-6xl"> -->
      <!-- <h2 class="text-2xl md:text-3xl font-bold">Bewertungen</h2> -->
      <!-- <p class="mt-3 text-slate-600">
        Zufriedene Kunden in Hamburg & Norderstedt.
      </p> -->

      <!-- Rating-Badge (statisch, später echte Zahl/Link einfügen) -->
      <!-- <div class="mt-6 inline-flex items-center gap-2 rounded-full border border-slate-200 bg-white px-4 py-2 text-sm">
        <span class="font-semibold text-slate-900">★ 4,9 / 5,0</span>
        <span class="text-slate-500">(Google)</span>
        <a href="#kontakt" class="ml-2 text-blue-600 hover:underline">Jetzt Angebot anfragen</a>
      </div> -->

      <!-- Testimonials -->
      <!-- <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        <figure class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
          <blockquote class="text-slate-700">
            „Schnell Termin bekommen, sehr freundlich und top Ergebnis. Unsere
            Terrassenfenster sehen aus wie neu.“
          </blockquote>
          <figcaption class="mt-4 text-sm text-slate-500">— Anna K., Hamburg</figcaption>
        </figure>

        <figure class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
          <blockquote class="text-slate-700">
            „Pünktlich, sauber, fairer Preis. Wintergarten komplett gereinigt.
            Absolute Empfehlung.“
          </blockquote>
          <figcaption class="mt-4 text-sm text-slate-500">— Familie R., Norderstedt</figcaption>
        </figure>

        <figure class="rounded-xl border border-slate-200 bg-white p-6 shadow-sm">
          <blockquote class="text-slate-700">
            „Sehr zuverlässig im Büroobjekt. Regelmäßige Fensterreinigung ohne
            Störungen im Ablauf.“
          </blockquote>
          <figcaption class="mt-4 text-sm text-slate-500">— M. Schröder, Hamburg</figcaption>
        </figure>
      </div> -->

      <!-- CTA -->
      <!-- <div class="mt-8 flex flex-col sm:flex-row gap-3">
        <a
          href="#kontakt"
          class="inline-flex items-center justify-center rounded-lg bg-blue-600 px-5 py-3 font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2 focus:ring-offset-white"
        >
          Kontakt aufnehmen
        </a>
        <a
          href="https://wa.me/4917629633132?text=Hallo%2C%20ich%20interessiere%20mich%20f%C3%BCr%20Ihre%20Fensterreinigung%20in%20Hamburg%20und%20Norderstedt."
          target="_blank" rel="noopener noreferrer"
          class="inline-flex items-center justify-center rounded-lg border border-green-600 px-5 py-3 font-medium text-green-700 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2 focus:ring-offset-white"
        >
          WhatsApp
        </a>
      </div> -->
    <!-- </div> -->
  <!-- </section> -->

    <!-- FAQ -->
  <section id="faq" class="scroll-mt-24 py-8 md:py-12 border-t border-slate-200 bg-white">
    <div class="mx-auto max-w-6xl">
      <h2 class="text-2xl md:text-3xl font-bold">Häufige Fragen</h2>
      <p class="mt-3 text-slate-600">
        Kurz & verständlich beantwortet.
      </p>

      <div class="mt-8 grid gap-3">
        <details class="group rounded-lg border border-slate-200 bg-white p-4 open:shadow-sm">
          <summary class="cursor-pointer select-none font-medium text-slate-900">
            Was kostet die Fensterreinigung?
          </summary>
          <div class="mt-2 text-slate-600">
            Standardfenster ab <strong>8&nbsp;€ pro Fenster</strong>, Dachflächenfenster ab
            <strong>15&nbsp;€</strong>. Wintergarten <strong>ab 160–300&nbsp;€</strong>,
            Terrassen-/Glasdach <strong>ab 5–15&nbsp;€ / m²</strong>.
            Der Endpreis hängt von Anzahl, Größe, Erreichbarkeit & Verschmutzung ab.
            Ein kurzer Blick vor Ort oder Fotos reichen für ein verbindliches Angebot.
          </div>
        </details>

        <details class="group rounded-lg border border-slate-200 bg-white p-4 open:shadow-sm">
          <summary class="cursor-pointer select-none font-medium text-slate-900">
            In welchem Gebiet sind Sie unterwegs?
          </summary>
          <div class="mt-2 text-slate-600">
            Hamburg & Norderstedt – kurze Wege, faire Anfahrt. Auf Anfrage auch umliegende Orte.
          </div>
        </details>

        <details class="group rounded-lg border border-slate-200 bg-white p-4 open:shadow-sm">
          <summary class="cursor-pointer select-none font-medium text-slate-900">
            Muss ich vor Ort sein?
          </summary>
          <div class="mt-2 text-slate-600">
            Für die erste Besichtigung ist es hilfreich. Bei Folgeterminen nach Absprache auch ohne Anwesenheit möglich.
          </div>
        </details>

        <details class="group rounded-lg border border-slate-200 bg-white p-4 open:shadow-sm">
          <summary class="cursor-pointer select-none font-medium text-slate-900">
            Wie schnell bekomme ich einen Termin?
          </summary>
          <div class="mt-2 text-slate-600">
            Am schnellsten per
            <a
              href="https://wa.me/4917629633132?text=Hallo%2C%20ich%20interessiere%20mich%20f%C3%BCr%20eine%20Fensterreinigung."
              target="_blank" rel="noopener noreferrer" class="text-blue-600 underline"
            >WhatsApp</a>.
              Alternativ gern
            <a href="tel:+4917629633132" class="text-blue-600 underline">anrufen</a>
              oder das
            <a href="#kontakt" class="text-blue-600 underline">Kontaktformular</a> nutzen.
              Fotos und kurze Angaben (Anzahl/Größe der Fenster, Erreichbarkeit) helfen bei einer schnellen & fairen Preisauskunft.
          </div>
        </details>
      </div>

      <!-- SEO: FAQPage Markup -->
      <script type="application/ld+json">
        {JSON.stringify({
          "@context": "https://schema.org",
          "@type": "FAQPage",
          "mainEntity": [
            {
              "@type": "Question",
              "name": "Was kostet die Fensterreinigung?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Standardfenster ab 8 € pro Fenster, Dachflächenfenster ab 15 €. Wintergarten ab 160–300 €, Terrassen-/Glasdach ab 5–15 € / m². Endpreise je nach Anzahl, Größe, Erreichbarkeit und Verschmutzung."
              }
            },
            {
              "@type": "Question",
              "name": "In welchem Gebiet sind Sie unterwegs?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Hamburg und Norderstedt; auf Anfrage umliegende Orte. Faire Anfahrtskosten."
              }
            },
            {
              "@type": "Question",
              "name": "Muss ich vor Ort sein?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Für die erste Besichtigung hilfreich. Folgetermine nach Absprache auch ohne Anwesenheit."
              }
            },
            {
              "@type": "Question",
              "name": "Wie schnell bekomme ich einen Termin?",
              "acceptedAnswer": {
                "@type": "Answer",
                "text": "Meist innerhalb weniger Tage. Kontakt am schnellsten via WhatsApp, Telefon oder Kontaktformular."
              }
            }
          ]
        })}
      </script>
    </div>
  </section>

  <!-- KONTAKT -->
  <section id="kontakt" class="scroll-mt-24 py-8 md:py-12 border-t border-slate-200">
    <h2 class="text-2xl md:text-3xl font-bold">Kontakt</h2>
    <p class="text-balance mt-3 text-slate-600">
      Am schnellsten per
      <a href="https://wa.me/4917629633132?text=Hallo%2C%20\nich%20interessiere%20mich%20f%C3%BCr%20Ihre%20Fensterreinigung%20in%20Hamburg%20und%20Norderstedt."
         target="_blank" rel="noopener noreferrer" class="text-blue-600 underline">WhatsApp</a>.
      Alternativ gern <a href="tel:+4917629633132" class="text-blue-600 underline">anrufen</a> oder das
      <a href="#kontakt" class="text-blue-600 underline">Kontaktformular</a> nutzen.
      <!-- 2–3 Fotos und kurze Angaben (Fensteranzahl/-größe, Erreichbarkeit, Adresse) helfen bei einer schnellen & fairen Preiseinschätzung. -->
    </p>
    <p class="text-balance mt-0 text-slate-600">
     2–3 Fotos und kurze Angaben (Fensteranzahl/-größe, Erreichbarkeit, Adresse) helfen bei einer schnellen & fairen Preiseinschätzung.
    </p>

    <div class="mt-8 grid gap-8 md:grid-cols-2">
      <!-- Direkt-Kontakte (helle, gut lesbare Hover-Styles) -->
      <!-- <div class="space-y-3 text-sm ">
        <a
          href="https://wa.me/4917629633132?text=Hallo%2C%20ich%20interessiere%20mich%20f%C3%BCr%20Ihre%20Fensterreinigung%20in%20Hamburg%20und%20Norderstedt."
          target="_blank" rel="noopener noreferrer"
          class="inline-flex items-center gap-2 rounded-lg border border-green-500 bg-white px-4 py-2 font-medium text-green-700 hover:bg-green-50 focus:outline-none focus:ring-2 focus:ring-green-600 focus:ring-offset-2"
        >
          WhatsApp
          <span class="text-slate-500">Nachricht senden</span>
        </a>

        <a
          href="tel:+4917629633132"
          class="inline-flex items-center gap-2 rounded-lg border border-slate-300 bg-white px-4 py-2 font-medium text-slate-900 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2"
        >
          Anrufen
          <span class="text-slate-500">+49&nbsp;176&nbsp;29633132</span>
        </a>

        <p class="text-xs text-slate-500">
          Tipp: Fotos per WhatsApp schicken – das beschleunigt das Angebot.
        </p>
      </div> -->

      <!-- Formular -->
      <form action="/api/contact" method="POST" class="grid gap-4" aria-describedby="form-hinweis">
        <!-- Honeypot -->
        <input type="text" name="website" class="hidden" tabindex="-1" autocomplete="off" />

        <div class="grid gap-1">
          <label for="name" class="font-medium">Name *</label>
          <input id="name" name="name" required
                 class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600" autocomplete="name" />
        </div>

        <div class="grid gap-1">
          <label for="email" class="font-medium">E-Mail *</label>
          <input id="email" name="email" type="email" required
                 class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600" autocomplete="email" inputmode="email" />
        </div>

        <div class="grid gap-1">
          <label for="telefon" class="font-medium">Telefon *</label>
          <input id="telefon" name="telefon" type="tel" required
                 class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600" autocomplete="tel" inputmode="tel" />
        </div>

        <div class="grid gap-1">
          <label for="strasse" class="font-medium">Straße *</label>
          <input id="strasse" name="strasse" required
                 class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600" autocomplete="street-address" />
        </div>

        <div class="grid gap-1">
          <label for="ort" class="font-medium">Ort *</label>
          <input id="ort" name="ort" required
                 class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600" autocomplete="address-level2" />
        </div>

        <div class="grid gap-1">
          <label for="plz" class="font-medium">PLZ (optional)</label>
          <input id="plz" name="plz" inputmode="numeric" pattern="[0-9]{5}"
                 class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600" autocomplete="postal-code" />
        </div>

        <div class="grid gap-1">
          <label for="kunde" class="font-medium">Ich bin *</label>
          <select id="kunde" name="kunde" required
                  class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600">
            <option value="" selected disabled>Bitte wählen…</option>
            <option value="privat">Privatkunde</option>
            <option value="gewerbe">Gewerbe</option>
          </select>
        </div>

        <!-- Wunschtermin (optional) -->
        <div class="grid gap-1">
          <label for="wunschtermin" class="font-medium">Wunschtermin (optional)</label>
          <input
            id="wunschtermin"
            name="wunschtermin"
            type="date"
            class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600"
            aria-describedby="wunsch-hinweis"
          />
        </div>

        <!-- Wunschzeit (optional) -->
        <div class="grid gap-1">
          <label for="wunschzeit" class="font-medium">Uhrzeit (optional)</label>
          <input
            id="wunschzeit"
            name="wunschzeit"
            type="time"
            min="06:00"
            max="18:00"
            step="1800"
            list="zeit-slots"
            pattern="^((0[6-9]|1[0-7]):(00|30)|18:00)$"
            placeholder="z. B. 09:00"
            class="rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600"
          />
          <datalist id="zeit-slots">
            <option value="06:00"></option><option value="06:30"></option>
            <option value="07:00"></option><option value="07:30"></option>
            <option value="08:00"></option><option value="08:30"></option>
            <option value="09:00"></option><option value="09:30"></option>
            <option value="10:00"></option><option value="10:30"></option>
            <option value="11:00"></option><option value="11:30"></option>
            <option value="12:00"></option><option value="12:30"></option>
            <option value="13:00"></option><option value="13:30"></option>
            <option value="14:00"></option><option value="14:30"></option>
            <option value="15:00"></option><option value="15:30"></option>
            <option value="16:00"></option><option value="16:30"></option>
            <option value="17:00"></option><option value="17:30"></option>
            <option value="18:00"></option>
          </datalist>
        </div>

        <style is:inline>
          input[type="date"].date-unavailable {
            color: #6b7280; /* gray-500 */
            background-color: #f8fafc; /* slate-50 */
            border-color: #cbd5e1;
          }
        </style>

        <script is:inline>
          (function(){
            const date = document.getElementById('wunschtermin');
            const time = document.getElementById('wunschzeit');
            if (!date) return;

            // heute (lokal) als min
            const now = new Date();
            const yyyy = now.getFullYear();
            const mm = String(now.getMonth()+1).padStart(2,'0');
            const dd = String(now.getDate()).padStart(2,'0');
            const today = yyyy + '-' + mm + '-' + dd;
            date.setAttribute('min', today);

            // feste Feiertage: 01-01, 04-05, 12-24, 12-25, 12-26, 12-31
            function isBlockedHoliday(d){
              const m = d.getMonth()+1; // 1..12
              const day = d.getDate();
              const md = (m<10?'0':'')+m + '-' + (day<10?'0':'')+day;
              return md==='01-01' || md==='04-05' || md==='12-24' || md==='12-25' || md==='12-26' || md==='12-31';
            }

            function validateDate(){
              if (!date.value) { date.classList.remove('date-unavailable'); date.setCustomValidity(''); return; }
              const d = new Date(date.value + 'T00:00:00');
              let msg = '';
              // in Vergangenheit?
              if (date.value < today) msg = 'Datum darf nicht in der Vergangenheit liegen.';
              // Sonntag? -> block and visually mark as unavailable
              else if (d.getDay() === 0) {
                msg = 'Sonntage sind nicht verfügbar.';
                // clear selection so it's not accepted
                date.value = '';
                date.classList.add('date-unavailable');
                date.setCustomValidity(msg);
                date.reportValidity();
                return;
              }
              // feste Feiertage?
              else if (isBlockedHoliday(d)) msg = 'Ausgewähltes Datum ist nicht verfügbar (Feiertag).';
              date.classList.toggle('date-unavailable', !!msg);
              date.setCustomValidity(msg);
            }

            // Zeit auf 30 Min. oder volle Std. runden/prüfen (falls Browser freie Eingabe zulässt)
            function validateTime(){
              if (!time || !time.value) { if(time) time.setCustomValidity(''); return; }
              const parts = time.value.split(':'); const H = +parts[0], M = +parts[1];
              const total = H*60 + (isFinite(M)?M:0);
              if (total < 360) total = 360; if (total > 1080) total = 1080;

              const rounded = Math.round(total/30)*30;
              const rh = String(Math.floor(rounded/60)).padStart(2,'0');
              const rm = String(rounded % 60).padStart(2,'0'); // "00" oder "30"
              time.value = rh + ':' + rm;
              const ok = /^((0[6-9]|1[0-7]):(00|30)|18:00)$/.test(time.value);
              time.setCustomValidity(ok ? '' : 'Bitte Zeiten in 30-Min.-Steps zwischen 06:00 und 18:00 wählen.');
            }

            date.addEventListener('change', validateDate);
            date.addEventListener('blur', validateDate);
            if (time){
              time.addEventListener('change', validateTime);
              time.addEventListener('blur', validateTime);
            }
          })();
        </script>

        <div class="grid gap-1">
          <label for="nachricht" class="font-medium">Nachricht *</label>
          <textarea
            id="nachricht"
            name="nachricht"
            required rows="4"
            placeholder="Kurz: Was soll gereinigt werden? \nAnzahl/Größe der Fenster, \nWintergarten/Terrassendach, \nErreichbarkeit …"
            class="text-balance rounded border px-3 py-2 outline-none focus:ring-2 focus:ring-blue-600"
          ></textarea>
        </div>

        <div class="flex items-start gap-2 text-sm">
          <input id="ds" name="datenschutz" type="checkbox" required class="mt-1" />
          <label for="ds" class="text-slate-600">
            Ich habe die <a href="/datenschutz" class="underline">Datenschutzerklärung</a> gelesen und stimme der Verarbeitung meiner Angaben zum Zweck der Kontaktaufnahme zu.
          </label>
        </div>

        <p id="form-hinweis" class="text-xs text-slate-500">
          Pflichtfelder sind mit * gekennzeichnet.
        </p>

        <p id="form-hinweis" class="text-xs text-slate-500">
          Antwort meist innerhalb einer Stunde.
        </p>

        <div class="pt-2">
          <button type="submit"
                  class="inline-flex items-center justify-center rounded-lg bg-blue-600 px-5 py-3 font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-600 focus:ring-offset-2">
            Anfrage senden
          </button>
        </div>
      </form>
    </div>
  </section>
</Layout>


